
\documentclass{article}

\input{includes.tex}

\begin{document}

    \input{coverpage}%not necessary but looks fancy

    % rappel du problème ? reprendre photo du sujet
    % référence à la fin
    % appendix pour code ?

    \section{Présentation du problème}
    La méthode des éléments finis est une méthode matématique utilisée par industriels et chercheurs afin de résudre numériquement des équations aux dérivées partielles. Une application envisageable pour les calculs avec la méthode des éléments finis est l'optimisation de l'épaisseur d'une structure tridimensionelle, 
    qui est ainsi l'objectif de ce projet. 
    La structure tridimensionnelle choisie est un pont pour lequel nous avons cherché à minimiser l'épaisseur
    en respectant une contrainte de déplacement vertical maximal en son centre de $10$ cm malgré l'application d'une force surfacique
    constante sur la surface horizontale supérieure du pont. 
    La géométrie de ce problème est tridimensionnelle et sa coupe verticale est montré dans la Figure \ref{fig:schema}.
    \begin{figure}[H]        
    \begin{center}
	
        \includegraphics[width=12cm]{imgs/coupe_2D-schema.JPG}
        \caption{Schéma de la géométrie du pont. Une force surfacique $f= - 5x10^8 N m^(-2)$ est appliquée à sa surface supérieure. Le déplacement maximale $d$ est montré en bleue, en vert c'est $\gamma$F, surface dans lequelle la force est appliquée et $\gamma$S est la surface inférieure fixe. Le système est qui est soumis à la gravité $g$.}
        \label{fig:schema}
    
	\end{center}
    \end{figure}
    
    La structure est considérée comme homogène avec les extrémités inférieures fixes et une largeur $p = 0,5 m$. 
    
    Les données fournis pour ce système sont :
    
    \begin{itemize}
    \item Module d'Young : $E = 2.1 \times 10^11$ N m$^{-2}$
    \item Coefficient de Poisson : $\nu = 0.3$ 
    \item Masse Volumique : $\rho = 7800$ kg m$^{-3}$
    \item Force imposée sur le bord supérieur : $f= - 5 \times 10^8$ N m$^{-2}$
    \end{itemize}
    
    Nous avons adopté la stratégie suivante pour traiter ce projet, en trois parties :
    \begin{enumerate}
        \item Établissement de la formulation variationelle pour ce problème ;
        \item Résolution à épaisseur fixée : nous avons écrit un programme avec la langage FreeFem++ pour résoudre le système à épaisseur fixe $e = 0,1 m$, 
            avec une maille initialement bidimentionelle qui est ensuite complétée avec la fonction $buildlayers$. 
            Nous avons étudié la différence entre des solutions calculées pour la pièce et pour sa moitié ainsi que la précision du résultat en variant le maillage.
        \item Optimisation de l'épaisseur :
        \begin{enumerate}
            \item Approximation graphique : 
                nous avons analysé la relation entre l'épaisseur et le déplacement afin de trouver un intervalle où le déplacement est inférieur ou égal à 10 cm.
            \item Raffinement de la solution : nous avons utilisé la méthode de dichotomie pour résoudre le système.
        \end{enumerate}
    \end{enumerate}

    \newpage
    
    \section{Formulation variationnelle}

    \begin{problem}{1}
    Mettons le problème sous forme faible (variationnelle) pour pouvoir le résoudre avec la méthode des éléments finis.
    \end{problem}
    
    \begin{solution}   
        \input{formulation_variationnelle.tex}
    \end{solution}

    \begin{problem}{2}
    Utilisons les propriétés de symétrie pour obtenir un problème sous forme variationnelle portant uniquement sur la moitié de la structure.
    \end{problem}
    
    \begin{solution}   
        \input{formulation_variationnelle_moitie.tex}
    \end{solution}

    \section{Résolution à épaisseur fixée}
        \input{epaisseur_fixe.tex}
    \section{Optimisation de l'épaisseur}

    \subsection{Approximation graphique}
    
    Pour commencer à optimiser l'épaisseur du pont, nous avons utilisée l'équation \ref{varia} pour calculer le déplacement en fonction de l'épaisseur. Celle-ci a varié de $0,1$ jusqu'à $0,3$ mètres, sachant que nous avons été limité par le rayon $r = 0,35 m$, avec des incréments de $0,006 m$.
    
    Le graph obtenu est montré dans la Figure \ref{fig:graph} :
    \begin{figure}[H]        
    \begin{center}
	
        \includegraphics[width=12cm]{imgs/graph.png}
        \caption{Evolution de l'affaissement en fonction de l'épaisseur du pont. Chaque épaisseur utilisée pour le calcul est montré par une croix sur la courbe.}
        \label{fig:graph}
    
	\end{center}
    \end{figure}
    Ce graph montre que à partir de environ $0,15 m$ le déplacement commence a être dans les conditions souhaités. Ce fait nous aide à définir des conditions pour le raffinement des solutions dans la prochaine section, car nous avons un intervalle plus petit à regarder, $[15; 17,5]$ ce qui facilite les calculs.
    \subsection{Raffinement de la solution}
    
    Afin d'utiliser la méthode dichotomie, nous avons défini des variables $e^n_{min}$ et $e^n_{max}$  qui seront utilisé pour calculer une épaisseur moyenne $e^n$ 	qui donnera le déplacement $d^n$. Si:
    
    \begin{itemize}
    \item $|d^n| ≤ |d_0|$, la valeur moyenne $e^n$ sera la nouvelle valeur de $e^n_{max}$ et $e^n_{min}$ reste constante.
    \item $|d^n| ≥ |d_0|$, la valeur moyenne $e^n$ sera la nouvelle valeur de $e^n_{min}$ et $e^n_{max}$ reste constante.
    \end{itemize}
   
   À partir du graph montré dans la \ref{fig:graph} généré dans la section précédente, nous avons choisit des valeurs initiales pour $e^n_{min}$ et $e^n_{max}$ de $0,125 m$ et $0,175 m$ respectivement. La valeur de $e^n_{min} était choisi dehors de l'intervalle d'intérêt pour pallier des imprécisions de lecture graphique.
   
   Les calculs ont été fait dans une boucle \emph{while} et la condition de arrêt était : tant que la valeur absolute de $d^n$ est différent de $0.1 m$ \emph{et} la valeur absolute de $|d^n|-0.1$ est plus petite ou égal à $0.001$, les calculs seront faites. Nous avons choisit cette valeur de $0.00001$ par des essais pour avoir un compromis entre une bonne valeur d'épaisseur et le temps de calcul. La valeur de la taille de la maille était aussi choisit pour $m = n = 10$.
    
    Nous avons aussi remarqué que une condition en plus serait nécessaire pour assurer un déplacement plus petit que $ 0.1 m$. De cette façon, l'épaisseur finale sera $e^n_{max}$ et le déplacément sera calculé par rapport à elle. Alors, les valeurs obtenues sont:

    \begin{center}
    $d^n = - 0,0999397 m$
    
    $e^n_{max} = 0,1531125 m$
    \end{center}
    
    Pendant les essais pour trouver le compromis entre la taille de la maille, le temps de calcul et la différence $|d^n|-0.1$, nous avons remarqué que augmenter les éléments du maillage a donné des valeurs plus loins de $0,1 m$, même avec la diminuition de cette différence. Donc, ces valeurs sont les meilleures que nous avons trouvées pendant les différents tests, néanmoins nous ne pouvons pas être sûr qu'elles sont optimales, car son choix était arbitraire, donc il y a la possibilité que nous n'avons pas trouvé le meilleur compromis. Afin de continuer à optimiser ce problème, il va falloir écrire un code plus général qui trouvera ces bonnes valeurs avant de chercher le déplacement. 
    \clearpage
    \appendix
    \section {Code source}

    Le code source du programme écrit est disponible sur \url{https://github.com/florian6973/finite-elements-project}.

    On y trouve aussi l'ensemble des ressources utilisées pour la rédaction du rapport.

    %\lstinputlisting[language=FreeFem]{simulation-v2.edp}


    %code + lien github
    
\end{document}
