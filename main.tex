
\documentclass{article}
\usepackage[margin=1in]{geometry} 
\usepackage[french]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{amsmath,amsthm,amssymb,amsfonts, fancyhdr, color, comment, graphicx, environ}
\usepackage{xcolor}
\usepackage{mdframed}
\usepackage[shortlabels]{enumitem}
\usepackage{indentfirst}
\usepackage{hyperref}
\usepackage{lastpage}
\usepackage{listingsutf8}
\usepackage{ff++listings}

\renewcommand{\footrulewidth}{0.8pt}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=blue,
}

\pagestyle{fancy}

\newenvironment{problem}[2][Etape]
    { \begin{mdframed}[backgroundcolor=gray!20] \textbf{#1 #2} \\}
    {  \end{mdframed}}


\newenvironment{solution}{\textbf{Réponse}}

\lhead{L. Gomes et F. Pollet}
\rhead{ES Elements finis} 
\chead{\textbf{Optimisation de l'épaisseur d'un pont}}
\lfoot{D. Ryckelynck, N. Spillane, P.-H. Tournier}
\cfoot{Mines Paris}
\rfoot{\thepage/\pageref*{LastPage}}

\begin{document}

    \input{coverpage}%not necessary but looks fancy

    % rappel du problème ? reprendre photo du sujet
    % référence à la fin
    % appendix pour code ?

    \section{Présentation du problème}

    \section{Formulation variationnelle}

    \begin{problem}{1}
    Mise sous équation
    \end{problem}
    
    \begin{solution}    
    Blabla
    \end{solution}

    \section{Résolution à épaisseur fixée}

    \section{Optimisation de l'épaisseur}

    \subsection{Approximation graphique}
    \subsection{Raffinement de la solution}
    
    \clearpage
    \appendix
    \section {Code source}

    Disponible sur ...

    \lstinputlisting[language=FreeFem]{simulation-v2.edp}


    %code + lien github
    
\end{document}